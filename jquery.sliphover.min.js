/*
 * jquery sliphover 1.1.3
 * apply 2d/3d hover animation to images
 *
 * inspired by http://tympanus.net/TipsTricks/DirectionAwareHoverEffect/index2.html
 * and http://codepen.io/taufnrsyd/pen/ufcdG
 *
 * Author:Wayou
 *
 * Licensed under the MIT license.
 *
 * Bug reporting, suggestion, feature requirments, you can:
 * mail to liuwayong@gmail.com
 * or visit the project on github https://github.com/Wayou/SlipHover to open issues
 */
;(function($,window,document,undefined){'use strict';var L=function(aB,options){this.j=aB,this.options=$.extend({},this.defaults,options)};L.prototype={defaults:{target:'img',title:'title',duration:'fast',fontColor:'#ffffff',backgroundColor:'rgba(0,0,0,.5)',reverse:false,flip:false,autoScroll:true,scrollSpeed:40,height:'100%'},ai:{l:{'left':'0','bottom':'0'},al:{'left':'0','bottom':'100%'},aW:{'left':'100%','bottom':'0'},aX:{'left':'0','bottom':'-100%'},bN:{'left':'-100%','bottom':'0'}},t:{bg:{'perspective-origin':'50% 0%','-webkit-perspective-origin':'50% 0%'},ac:{'perspective-origin':'100% 50%','-webkit-perspective-origin':'100% 50%'},ad:{'perspective-origin':'50% 100%','-webkit-perspective-origin':'50% 100%'},aU:{'perspective-origin':'0% 50%','-webkit-perspective-origin':'0% 50%'}},aJ:'@-webkit-keyframes topenter{ 	from{ 		-webkit-transform-origin:top; 		-webkit-transform:rotateX(-90deg); 	} 	to{ 		-webkit-transform-origin:top; 		-webkit-transform:rotateX(0deg); 	} } @keyframes topenter{ 	from{ 		transform-origin:top; 		transform:rotateX(-90deg); 	} 	to{ 		transform-origin:top; 		transform:rotateX(0deg); 	} } @-webkit-keyframes topleave{ 	from{ 		-webkit-transform-origin:top; 		-webkit-transform:rotateX(0deg); 	} 	to{ 		-webkit-transform-origin:top; 		-webkit-transform:rotateX(-90deg); 	} } @keyframes topleave{ 	from{ 		transform-origin:top; 		transform:rotateX(0deg); 	} 	to{ 		transform-origin:top; 		transform:rotateX(-90deg); 	} }  @-webkit-keyframes rightenter{ 	from{ 		-webkit-transform-origin:right; 		-webkit-transform:rotateY(-90deg); 	} 	to{ 		-webkit-transform-origin:right; 		-webkit-transform:rotateY(0deg); 	} } @keyframes rightenter{ 	from{ 		transform-origin:right; 		transform:rotateY(-90deg); 	} 	to{ 		transform-origin:right; 		transform:rotateY(0deg); 	} } @-webkit-keyframes rightleave{ 	from{ 		-webkit-transform-origin:right; 		-webkit-transform:rotateY(0deg); 	} 	to{ 		-webkit-transform-origin:right; 		-webkit-transform:rotateY(-90deg); 	} } @keyframes rightleave{ 	from{ 		transform-origin:right; 		transform:rotateY(0deg); 	} 	to{ 		transform-origin:right; 		transform:rotateY(-90deg); 	} }  @-webkit-keyframes bottomenter{ 	from{ 		-webkit-transform-origin:bottom; 		-webkit-transform:rotateX(90deg); 	} 	to{ 		-webkit-transform-origin:bottom; 		-webkit-transform:rotateX(0deg); 	} } @keyframes bottomenter{ 	from{ 		transform-origin:bottom; 		transform:rotateX(90deg); 	} 	to{ 		transform-origin:bottom; 		transform:rotateX(0deg); 	} } @-webkit-keyframes bottomleave{ 	from{ 		-webkit-transform-origin:bottom; 		-webkit-transform:rotateX(0deg); 	} 	to{ 		-webkit-transform-origin:bottom; 		-webkit-transform:rotateX(90deg); 	} } @keyframes bottomleave{ 	from{ 		transform-origin:bottom; 		transform:rotateX(0deg); 	} 	to{ 		transform-origin:bottom; 		transform:rotateX(90deg); 	} }  @-webkit-keyframes leftenter{ 	from{ 		-webkit-transform-origin:left; 		-webkit-transform:rotateY(90deg); 	} 	to{ 		-webkit-transform-origin:left; 		-webkit-transform:rotateY(0deg); 	} } @keyframes leftenter{ 	from{ 		transform-origin:left; 		transform:rotateY(90deg); 	} 	to{ 		transform-origin:left; 		transform:rotateY(0deg); 	} } @-webkit-keyframes leftleave{ 	from{ 		-webkit-transform-origin:left; 		-webkit-transform:rotateY(0deg); 	} 	to{ 		-webkit-transform-origin:left; 		-webkit-transform:rotateY(90deg); 	} } @keyframes leftleave{ 	from{ 		transform-origin:left; 		transform:rotateY(0deg); 	} 	to{ 		transform-origin:left; 		transform:rotateY(90deg); 	} }',bj:function(aB,options){var V=this,j=aB||this.j,options=options||this.options,bp=j.find(options.target).size()>0?j.find(options.target):j;if(this.options.flip){var bs=$('style').length===0?$('<style>'):$('style').first();bs.append(this.aJ).appendTo('head');};bp.each(function(){var k=V.af($(this)),C=V.aZ(k,options,$(this)),O=C.children(),K=O.height(),by=C.height();V.ak(k,C,options);if(V.options.autoScroll&&K-by>0){C.css('overflow','hidden');var scrollTop={top: -(K-by)},bo={top:0},v=(K-by)*V.options.scrollSpeed;C.hover(function(){V.bL(O,scrollTop,bo,v);},function(){C.children().stop().css('top','0');})};});return j;},bL:function(j,bO,bn,v){var V=this;j.animate(bO,v,'linear',function(){j.animate(bn,v,'linear',function(){V.bL(j,bO,bn,v);});});},af:function(G){var aP=G.parents().filter(function(){return this.style.position!=='static';}).length,ay=aP?G.position():G.offset(),aE=G.innerWidth(),bA=G.innerHeight(),borderWidth=(G.outerWidth()-G.innerWidth())/2,ar=ay.top+borderWidth,bP=ay.left+borderWidth,k=$('<div class="sliphoveritem" style="border-radius:'+G.css('borderRadius')+';width:'+aE+'px;height:'+bA+'px;text-align:center;overflow:hidden;position:absolute;top:'+ar+'px;left:'+bP+'px;">').insertBefore(G);if(this.options.flip){k.css({'perspective':'500px','-webkit-perspective':'500px','perspective-origin':'0% 50%','-webkit-perspective-origin':'0% 50%'});};var browser=this.bm();if(browser.T&&browser.version<=10){k.css('background-color','rgba(255,255,255,0.1)');};return k;},aZ:function(k,options,G){var C=$('<div class="sliphoveritemTitle" style="border-radius:'+G.css('borderRadius')+';width:100%;height:'+this.options.height+';box-sizing:border-box;-moz-box-sizing:border-box;padding:5px;overflow:auto;position:absolute;color:'+this.options.fontColor+';background-color:'+this.options.backgroundColor+';">').html('<div style="position:relative;width:100%;">'+G.attr(options.title)+'</div>'),O=C.children();if(this.options.flip){C.css({'left':'0','bottom':'0','transform-origin':'left','transform':'rotateY(90deg)','-webkit-transform-origin':'left','-webkit-transform':'rotateY(90deg)','backface-visibility':'hidden','-webkit-backface-visibility':'hidden'});}else{C.css(this.ai.bN);};k.html(C);if(O.height()<C.height()){O.css({'width':O.width(),'height':C.height(),'display':'table-cell','vertical-align':'middle','text-align':'center'});};return C;},F:function(bh,aI,k,C){var duration=this.options.duration;switch(duration){case 'fast':duration='200ms';break;case 'slow':duration='600ms';break;default:duration=duration+'ms';break;};k.css(bh);C.css({'animation':aI+' '+duration+' forwards','-webkit-animation':aI+' '+duration+' forwards'});},bE:function(G,event){var w=G.width(),H=G.height(),x=(event.pageX-G.offset().left-(w/2))*(w>H?(H/w):1),y=(event.pageY-G.offset().top-(H/2))*(H>w?(w/H):1),direction=Math.round((((Math.atan2(y,x)*(180/Math.PI))+180)/90)+3)%4;return direction;},ak:function(G,C,options){var V=this;G.unbind('mouseenter.sliphover mouseleave.sliphover').bind('mouseenter.sliphover mouseleave.sliphover',function(e){var R=e.type,direction=V.bE(G,e);V.bU(R,direction,G,C,options,V.ai);});},bU:function(R,direction,k,C,options,J){if(options.reverse){direction=(direction+2)%4};switch(direction){case 0:if(R=='mouseenter'){if(options.flip){this.F(this.t.bg,'topenter',k,C);}else{C.css(J.al);C.stop().animate(J.l,options.duration);};}else{if(options.flip){this.F(this.t.bg,'topleave',k,C);}else{C.stop().animate(J.al,options.duration);};}break;case 1:if(R=='mouseenter'){if(options.flip){this.F(this.t.ac,'rightenter',k,C);}else{C.css(J.aW);C.stop().animate(J.l,options.duration);};}else{if(options.flip){this.F(this.t.ac,'rightleave',k,C);}else{C.stop().animate(J.aW,options.duration);};}break;case 2:if(R=='mouseenter'){if(options.flip){this.F(this.t.ad,'bottomenter',k,C);}else{C.css(J.aX);C.stop().animate(J.l,options.duration);};}else{if(options.flip){this.F(this.t.ad,'bottomleave',k,C);}else{C.stop().animate(J.aX,options.duration);};}break;case 3:if(R=='mouseenter'){if(options.flip){this.F(this.t.aU,'leftenter',k,C);}else{C.css(J.bN);C.stop().animate(J.l,options.duration);};}else{if(options.flip){this.F(this.t.aU,'leftleave',k,C);}else{C.stop().animate(J.bN,options.duration);};}break;default:throw new Error('failed to get the direction.');}},bm:function(){var version=999,T=false;if(navigator.appVersion.indexOf("MSIE")!= -1){T=true;version=parseFloat(navigator.appVersion.split("MSIE")[1]);}return{T:T,version:version};}};L.constructor=L;$.fn.sliphover=function(options){var entry=$.data(this,'sliphover');if(!entry){entry=new L(this,options);entry.bj();$.data(this,'sliphover',entry);}else{entry.bj(this,options);}$(window).unbind('resize.sliphover').bind('resize.sliphover',function(){$('.sliphoveritem').remove();entry.bj();});return entry;};}(jQuery,window,document));