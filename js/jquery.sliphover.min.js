;(function($,window,document,undefined){'use strict';var R=function(K,options){this.J=K,this.options=$.extend({},this.defaults,options)};R.prototype={defaults:{target:'img',title:'title',duration:'fast',fontColor:'#ffffff',backgroundColor:'rgba(0,0,0,.5)',reverse:false,delay:0,aw:'autoscroll',scrollSpeed:30,height:'100%'},aO:{j:{'left':'0','bottom':'0'},bJ:{'left':'0','bottom':'100%'},bV:{'left':'100%','bottom':'0'},ap:{'left':'0','bottom':'-100%'},C:{'left':'-100%','bottom':'0'}},bk:function(K,options){var k=this,J=K||this.J,options=options||this.options,ac=J.find(options.target).size()>0?J.find(options.target):J;ac.each(function(){var V=k.aV($(this)),T=k.aq(V,options,$(this)),t=T.children(),G=t.height(),H=T.height();k.as(V,T,options);if(k.options.aw.toLowerCase()==='autoscroll'&&G-H>0){T.css('overflow','hidden');var scrollTop={top: -(G-H)},bn={top:0},F=(G-H)*k.options.scrollSpeed;T.hover(function(){k.am(t,scrollTop,bn,F);},function(){T.children().stop().css('top','0');})};});return J;},am:function(J,aR,aJ,F){var k=this;J.animate(aR,F,'linear',function(){J.animate(aJ,F,'linear',function(){k.am(J,aR,aJ,F);});});},aV:function(O){var aI=O.offset(),aM=O.innerWidth(),ak=O.innerHeight(),borderWidth=(O.outerWidth()-O.innerWidth())/2;return $('<div class="sliphoveritem" style="width:'+aM+'px;height:'+ak+'px;text-align:center;overflow:hidden;position:absolute;top:'+(aI.top+borderWidth)+'px;left:'+(aI.left+borderWidth)+'px;">').insertBefore(O);},aq:function(V,options,O){var T=$('<div class="sliphoveritemTitle" style="width:100%;height:'+this.options.height+';box-sizing:border-box;-moz-box-sizing:border-box;padding:5px;overflow:auto;position:absolute;color:'+this.options.fontColor+';background-color:'+this.options.backgroundColor+';">').html('<div style="position:relative;width:100%;">'+O.attr(options.title)+'</div>').css(this.aO.C),t=T.children();V.html(T);if(t.height()<T.height()){t.css({'width':t.width(),'height':T.height(),'display':'table-cell','vertical-align':'middle','text-align':'center'});};return T;},bD:function(O,event){var w=O.width(),v=O.height(),x=(event.pageX-O.offset().left-(w/2))*(w>v?(v/w):1),y=(event.pageY-O.offset().top-(v/2))*(v>w?(w/v):1),direction=Math.round((((Math.atan2(y,x)*(180/Math.PI))+180)/90)+3)%4;return direction;},as:function(O,T,options){var k=this;O.unbind('mouseenter.sliphover mouseleave.sliphover').bind('mouseenter.sliphover mouseleave.sliphover',function(e){var l=e.type,direction=k.bD(O,e);k.bs(l,direction,T,options,k.aO);});},bs:function(l,direction,T,options,L){if(options.reverse){direction=(direction+2)%4};switch(direction){case 0:if(l=='mouseenter'){T.css(L.bJ);T.stop().animate(L.j,options.duration);}else{T.stop().animate(L.bJ,options.duration);}break;case 1:if(l=='mouseenter'){T.css(L.bV);T.stop().animate(L.j,options.duration);}else{T.stop().animate(L.bV,options.duration);}break;case 2:if(l=='mouseenter'){T.css(L.ap);T.stop().animate(L.j,options.duration);}else{T.stop().animate(L.ap,options.duration);}break;case 3:if(l=='mouseenter'){T.css(L.C);T.stop().animate(L.j,options.duration);}else{T.stop().animate(L.C,options.duration);}break;default:throw new Error('failed to get the direction.');}}};R.constructor=R;$.fn.sliphover=function(options){var entry=$.data(this,'sliphover');if(!entry){entry=new R(this,options);entry.bk();$.data(this,'sliphover',entry);}else{entry.bk(this,options);}$(window).unbind('resize.sliphover').bind('resize.sliphover',function(){$('.sliphoveritem').remove();entry.bk();});return entry;};}(jQuery,window,document));