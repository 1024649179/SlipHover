;(function($,window,document,undefined){'use strict';var R=function(H,options){this.t=H,this.options=$.extend({},this.defaults,options)};R.prototype={defaults:{target:'img',title:'title',duration:'fast',fontColor:'#ffffff',backgroundColor:'rgba(0,0,0,.5)',reverse:false,delay:0,autoScroll:true,scrollSpeed:30,height:'100%'},aQ:{L:{'left':'0','bottom':'0'},ba:{'left':'0','bottom':'100%'},ag:{'left':'100%','bottom':'0'},aA:{'left':'0','bottom':'-100%'},v:{'left':'-100%','bottom':'0'}},G:function(H,options){var J=this,t=H||this.t,options=options||this.options,bf=t.find(options.target).size()>0?t.find(options.target):t;bf.each(function(){var T=J.am($(this)),K=J.bD(T,options,$(this)),j=K.children(),l=j.height(),ax=K.height();J.bF(T,K,options);if(J.options.autoScroll&&l-ax>0){K.css('overflow','hidden');var scrollTop={top: -(l-ax)},bH={top:0},k=(l-ax)*J.options.scrollSpeed;K.hover(function(){J.bA(j,scrollTop,bH,k);},function(){K.children().stop().css('top','0');})};});return t;},bA:function(t,aE,bu,k){var J=this;t.animate(aE,k,'linear',function(){t.animate(bu,k,'linear',function(){J.bA(t,aE,bu,k);});});},am:function(O){var ak=O.offset(),aJ=O.innerWidth(),af=O.innerHeight(),borderWidth=(O.outerWidth()-O.innerWidth())/2;return $('<div class="sliphoveritem" style="width:'+aJ+'px;height:'+af+'px;text-align:center;overflow:hidden;position:absolute;top:'+(ak.top+borderWidth)+'px;left:'+(ak.left+borderWidth)+'px;">').insertBefore(O);},bD:function(T,options,O){var K=$('<div class="sliphoveritemTitle" style="width:100%;height:'+this.options.height+';box-sizing:border-box;-moz-box-sizing:border-box;padding:5px;overflow:auto;position:absolute;color:'+this.options.fontColor+';background-color:'+this.options.backgroundColor+';">').html('<div style="position:relative;width:100%;">'+O.attr(options.title)+'</div>').css(this.aQ.v),j=K.children();T.html(K);if(j.height()<K.height()){j.css({'width':j.width(),'height':K.height(),'display':'table-cell','vertical-align':'middle','text-align':'center'});};return K;},bv:function(O,event){var w=O.width(),V=O.height(),x=(event.pageX-O.offset().left-(w/2))*(w>V?(V/w):1),y=(event.pageY-O.offset().top-(V/2))*(V>w?(w/V):1),direction=Math.round((((Math.atan2(y,x)*(180/Math.PI))+180)/90)+3)%4;return direction;},bF:function(O,K,options){var J=this;O.unbind('mouseenter.sliphover mouseleave.sliphover').bind('mouseenter.sliphover mouseleave.sliphover',function(e){var C=e.type,direction=J.bv(O,e);J.bG(C,direction,K,options,J.aQ);});},bG:function(C,direction,K,options,F){if(options.reverse){direction=(direction+2)%4};switch(direction){case 0:if(C=='mouseenter'){K.css(F.ba);K.stop().animate(F.L,options.duration);}else{K.stop().animate(F.ba,options.duration);}break;case 1:if(C=='mouseenter'){K.css(F.ag);K.stop().animate(F.L,options.duration);}else{K.stop().animate(F.ag,options.duration);}break;case 2:if(C=='mouseenter'){K.css(F.aA);K.stop().animate(F.L,options.duration);}else{K.stop().animate(F.aA,options.duration);}break;case 3:if(C=='mouseenter'){K.css(F.v);K.stop().animate(F.L,options.duration);}else{K.stop().animate(F.v,options.duration);}break;default:throw new Error('failed to get the direction.');}}};R.constructor=R;$.fn.sliphover=function(options){var entry=$.data(this,'sliphover');if(!entry){entry=new R(this,options);entry.G();$.data(this,'sliphover',entry);}else{entry.G(this,options);}$(window).unbind('resize.sliphover').bind('resize.sliphover',function(){$('.sliphoveritem').remove();entry.G();});return entry;};}(jQuery,window,document));